import{_ as i,c as a,f as n,o as t}from"./app-C49nKLGn.js";const e="/img/2019/10/2369571521.png",l={};function h(p,s){return t(),a("div",null,s[0]||(s[0]=[n('<p>本实验采用 IPv6-over-IPv4隧道技术：</p><blockquote><p>是将 <strong>IPv6</strong> 报文封装在 <strong>IPv4</strong>报文中，让 <strong>IPv6</strong> 数据包穿过<strong>IPv4</strong>网络进行通信，隧道技术只要求在隧道的入口和出口处进行修改，对其他部分没有要求，容易实现。但是，<s>隧道技术不能实现 IPv4 主机与1Pv6 主机 的直接通信</s>。</p></blockquote><h3 id="网络拓扑" tabindex="-1"><a class="header-anchor" href="#网络拓扑"><span>网络拓扑</span></a></h3><p><img src="'+e+`" alt="6to4.png"></p><h3 id="拓扑介绍" tabindex="-1"><a class="header-anchor" href="#拓扑介绍"><span>拓扑介绍</span></a></h3><p>路由器 R1和 R2经 IPv4 网络连接，路由器以太口分别连接两个 IPv6 网段。</p><p>通过 Tunnel将 IPv6的数 据包封装到 IPv4 的数据包中，实现点到点的数据传输。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>这里说一个需要注意小问题 做实验选用路由器E口和G口区别，</p><p>昨天在学习 RIP 路由协议配置 时使用 AR1220 路由器发现端口不能直接配置 IP</p></div><p>随后上网查了一下</p><blockquote><p>模拟器里这个路由的ethernet口是二层口，二层口是无法配置IP的，需要用VLAN来配置IP或者变成三层口</p></blockquote><p>知道怎么回事就简单了</p><h3 id="配置vlan命令" tabindex="-1"><a class="header-anchor" href="#配置vlan命令"><span>配置vlan命令</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Huawei</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">vlan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Huawei-vlan10</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">int</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vlanif</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Huawei-Vlanif10</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.0.12.2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 24</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Huawei-Vlanif10</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">int</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> e0/0/0</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Huawei-Ethernet0/0/0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">port</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> link-type</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> access</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Huawei-Ethernet0/0/0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">port</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vlan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>大概这样就行了。我们用 display current-configuration 显示系统运行配置信息</p><hr><h3 id="配置命令" tabindex="-1"><a class="header-anchor" href="#配置命令"><span>配置命令</span></a></h3><div class="vp-steps"><ol><li><p>配置 R1、R2接口 IP <s>太简单不列出了</s></p></li><li><p>配置 R1和 R2 的 IPV4 静态路由</p></li></ol><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> route-static</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.1.2.2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 255.255.255.0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.1.1.2</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> route-static</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.1.1.1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 255.255.255.0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.1.2.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>配置 R1和 R2 的 Tunnel 接口 <h5 id="配置r1-配置r2-类比r1" tabindex="-1"><a class="header-anchor" href="#配置r1-配置r2-类比r1"><span>配置R1 <s>配置R2（类比R1）</s></span></a></h5></li></ol><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">int</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Tunnel</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0/0/1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        //进入隧道Tunnel</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0/0/1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R1-Tunnel0/0/1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tunnel-protocol</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gre</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   //启用隧道协议</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> GRE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R1-Tunnel0/0/1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ipv6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enable</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">          //隧道端口使能</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IPv6</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R1-Tunnel0/0/1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ipv6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fc02::1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     //配置</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IPv6地址</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R1-Tunnel0/0/1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">source</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.1.1.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       //源端地址</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R1-Tunnel0/0/1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">destination</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.1.2.2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   //目的地址</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R1-Tunnel0/0/1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">quit</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>配置 R1和 R2 的 Tunnel 静态路由</li></ol><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ipv6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> route-static</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fc03::1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Tunnel</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0/0/1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">R2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ipv6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> route-static</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fc01::1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Tunnel</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0/0/1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div>`,17)]))}const r=i(l,[["render",h],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/cn_test/6hu67c9c/","title":"huawei-ipv6to4 GRE 隧道实验","lang":"zh-CN","frontmatter":{"title":"huawei-ipv6to4 GRE 隧道实验","createTime":"2019/11/24 21:16:41","permalink":"/cn_test/6hu67c9c/","description":"本实验采用 IPv6-over-IPv4隧道技术： 是将 IPv6 报文封装在 IPv4报文中，让 IPv6 数据包穿过IPv4网络进行通信，隧道技术只要求在隧道的入口和出口处进行修改，对其他部分没有要求，容易实现。但是，。 网络拓扑 6to4.png 拓扑介绍 路由器 R1和 R2经 IPv4 网络连接，路由器以太口分别连接两个 IPv6 网段。 通...","head":[["meta",{"property":"og:url","content":"https://wantofun.cn/cn_test/6hu67c9c/"}],["meta",{"property":"og:site_name","content":"Want to Fun"}],["meta",{"property":"og:title","content":"huawei-ipv6to4 GRE 隧道实验"}],["meta",{"property":"og:description","content":"本实验采用 IPv6-over-IPv4隧道技术： 是将 IPv6 报文封装在 IPv4报文中，让 IPv6 数据包穿过IPv4网络进行通信，隧道技术只要求在隧道的入口和出口处进行修改，对其他部分没有要求，容易实现。但是，。 网络拓扑 6to4.png 拓扑介绍 路由器 R1和 R2经 IPv4 网络连接，路由器以太口分别连接两个 IPv6 网段。 通..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-13T07:16:51.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-13T07:16:51.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"huawei-ipv6to4 GRE 隧道实验\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-13T07:16:51.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":3,"title":"网络拓扑","slug":"网络拓扑","link":"#网络拓扑","children":[]},{"level":3,"title":"拓扑介绍","slug":"拓扑介绍","link":"#拓扑介绍","children":[]},{"level":3,"title":"配置vlan命令","slug":"配置vlan命令","link":"#配置vlan命令","children":[]},{"level":3,"title":"配置命令","slug":"配置命令","link":"#配置命令","children":[]}],"readingTime":{"minutes":1.73,"words":519},"git":{"createdTime":1731482211000,"updatedTime":1731482211000,"contributors":[{"name":"fan","email":"yswfgo@qq.com","commits":1}]},"autoDesc":true,"filePathRelative":"notes/计网实验/6.huawei-ipv6to4 GRE 隧道实验.md","bulletin":false}');export{r as comp,d as data};
