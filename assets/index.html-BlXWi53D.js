import{_ as s,c as t,f as e,o as a}from"./app-C49nKLGn.js";const n="/img/2020/04/312840952.png",p="/img/2020/04/3785724711.jpg",l={};function h(r,i){return a(),t("div",null,i[0]||(i[0]=[e('<p>因为有写博客习惯，但是由于使用是美国某公益性实验云主机每次访问速度实在不敢恭维，现在弄到一台阿里云2H4G服务器,我的第一想法就是把博客迁移过来阿里云服务器。</p><p>我本来打算在阿里云服务器上采用宝塔傻瓜式建站但是感觉宝塔对于我一个小博客来说有些臃肿，有很多我用不到的功能，为了找到适合自己环境配置，我选择</p><p><strong>LAMP = Linux + Apache + MySQL + PHP</strong></p><hr><div class="hint-container warning"><p class="hint-container-title">注意</p><p>但在后续使用中我发现一个以前没有注意到小问题，原博客附件由于我没有采用第三方存储，导致博客附件在新网站中加载失败不能下载，经过对原博客调整，使新博客也能调用,方法也很简单</p></div><p><strong>批量替换修改mysql数据库中和文件存储信息相关字段的内容</strong></p><p>sql语句:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">update</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段名</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">replace</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(字段名,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">原字符串</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">替换后的字符串</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>例如我就是更换typecho_contents表中text把域名信息更新了</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">update</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> typecho_contents </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> text=</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">replace</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">text</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">yswf8.cn</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">wantofun.cn</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)；</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+n+'" alt="数据库迁移问题.png"></p><p>以前没做过数据迁移没发现使用OSS存储好处。另外由于原云主机并未到期，所以使用其作为备份数据库，阿里云作为主数据库，一主一从增加数据安全。 <img src="'+p+'" alt="数据库截图.jpg"> 到此博客迁移完成一大半,最后备案完成！</p>',12)]))}const d=s(l,[["render",h],["__file","index.html.vue"]]),o=JSON.parse('{"path":"/article/r4sd2ue4/","title":"Typecho博客数据迁移","lang":"zh-CN","frontmatter":{"title":"Typecho博客数据迁移","createTime":"2020/02/10 10:50:36","permalink":"/article/r4sd2ue4/","tags":["数据库"],"description":"因为有写博客习惯，但是由于使用是美国某公益性实验云主机每次访问速度实在不敢恭维，现在弄到一台阿里云2H4G服务器,我的第一想法就是把博客迁移过来阿里云服务器。 我本来打算在阿里云服务器上采用宝塔傻瓜式建站但是感觉宝塔对于我一个小博客来说有些臃肿，有很多我用不到的功能，为了找到适合自己环境配置，我选择 LAMP = Linux + Apache + My...","head":[["meta",{"property":"og:url","content":"https://wantofun.cn/article/r4sd2ue4/"}],["meta",{"property":"og:site_name","content":"Want to Fun"}],["meta",{"property":"og:title","content":"Typecho博客数据迁移"}],["meta",{"property":"og:description","content":"因为有写博客习惯，但是由于使用是美国某公益性实验云主机每次访问速度实在不敢恭维，现在弄到一台阿里云2H4G服务器,我的第一想法就是把博客迁移过来阿里云服务器。 我本来打算在阿里云服务器上采用宝塔傻瓜式建站但是感觉宝塔对于我一个小博客来说有些臃肿，有很多我用不到的功能，为了找到适合自己环境配置，我选择 LAMP = Linux + Apache + My..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-13T15:13:09.000Z"}],["meta",{"property":"article:tag","content":"数据库"}],["meta",{"property":"article:modified_time","content":"2024-11-13T15:13:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Typecho博客数据迁移\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-13T15:13:09.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":1.41,"words":422},"git":{"createdTime":1731510789000,"updatedTime":1731510789000,"contributors":[{"name":"fan","email":"yswfgo@qq.com","commits":1}]},"autoDesc":true,"filePathRelative":"运维/Typecho博客数据迁移.md","categoryList":[{"id":"60eec8","sort":10003,"name":"运维"}],"bulletin":false}');export{d as comp,o as data};
